---
import BaseLayout from '../components/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import CTA from '../components/CTA.astro';
import { SERVICES, SITE_CONFIG, WHATSAPP_MESSAGES } from '../utils/constants.js';
import { generateMetaTags, generateServiceSchema, generateBreadcrumbSchema, generateFAQSchema } from '../utils/seo.ts';

const service = SERVICES.find(s => s.slug === 'jasa-galvo-engraving');
if (!service) { throw new Error('Galvo Engraving service not found in SERVICES array'); }

const metaTags = generateMetaTags({
  title: `${service.name} - Engraving Presisi untuk Material Metal`,
  description: `${service.description}. Teknologi galvo laser tercepat & akurat untuk engraving stainless steel, aluminium hingga ketebalan 20mm. Quote gratis 24 jam.`,
  keywords: service.keywords,
  url: `/${service.slug}/`,
  type: "article",
  image: service.image,
  publishedTime: "2025-01-01T00:00:00Z",
  modifiedTime: "2025-01-01T00:00:00Z",
  author: SITE_CONFIG.author
});

const serviceSchema = generateServiceSchema(service);
const breadcrumbSchema = generateBreadcrumbSchema([
  { name: 'Beranda', url: '/' },
  { name: 'Layanan', url: '/#services' },
  { name: service.name, url: `/${service.slug}/` }
]);

const faqItems = [
  { question: "Bisa engraving apa saja?", answer: "Logo, serial number, barcode/QR code, teks, dan pola pada logam/plastik/kayu." },
  { question: "Apakah hasil engraving permanen?", answer: "Ya, engraving bersifat permanen dan tahan lama karena mengubah permukaan material." },
  { question: "Seberapa kecil detailnya?", answer: "Hingga 0.05mm tergantung material." }
];
const faqSchema = generateFAQSchema(faqItems);
---
<BaseLayout metaTags={metaTags} jsonLd={[serviceSchema, breadcrumbSchema, faqSchema]}>
  <Header slot="header" />
  <Hero
    title={`${service.name} Profesional`}
    subtitle="Engraving Presisi | Logam, Plastik, Kayu | Kecepatan Tinggi"
    description="Teknologi galvo laser tercepat untuk engraving detail tinggi pada berbagai material. Ideal untuk branding produk, serial number, QR code, barcode, dan personalisasi dengan hasil yang tajam dan tahan lama."
    primaryCTA="Konsultasi Galvo Engraving"
    secondaryCTA="Lihat Portofolio"
    backgroundImage={service.image}
    whatsappMessage={WHATSAPP_MESSAGES.engraving}
  />

  <section class="section-padding bg-background">
    <div class="container-custom">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="order-2 lg:order-1">
          <img
            src={service.image}
            alt={service.name}
            class="rounded-xl shadow-xl w-full"
            loading="lazy"
            decoding="async"
            width="800"
            height="533"
            sizes="(max-width: 1024px) 100vw, 800px"
          />
        </div>
        <div class="order-1 lg:order-2">
          <h2 class="heading-lg text-text-main mb-6">Solusi Engraving Presisi Tinggi</h2>
          <p class="text-xl text-text-secondary mb-8">
            Galvo Engraving kami menggunakan teknologi laser galvanometer tercepat untuk memberikan hasil engraving yang sangat detail dan presisi pada berbagai material, menjadikannya pilihan utama untuk branding produk dan personalisasi di Jabodetabek.
          </p>
        </div>
      </div>
    </div>
  </section>

  <CTA />
  <Footer slot="footer" />
</BaseLayout>